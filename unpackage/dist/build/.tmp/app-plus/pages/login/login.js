(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"1d8e":function(e,t,n){},"56e5":function(e,t,n){"use strict";n.r(t);var r=n("7e79"),a=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);t["default"]=a.a},"5fbf":function(e,t,n){"use strict";var r=n("1d8e"),a=n.n(r);a.a},6865:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement;e._self._c},a=[];n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a})},"7e79":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n("a34a")),a=n("2f62"),o=u(n("76a2")),i=n("c8f0");function u(e){return e&&e.__esModule?e:{default:e}}function l(e){return f(e)||c(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function c(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function f(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function d(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(s){return void n(s)}u.done?t(l):Promise.resolve(l).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,u,"next",e)}function u(e){d(o,r,a,i,u,"throw",e)}i(void 0)})}}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){g(e,t,n[t])})}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(){return n.e("components/pull-up").then(n.bind(null,"a2b8"))},b={data:function(){return{SellerNo:"",SellerName:"",UserPhone:"",PassWord:"",logining:!1,SellerList:[]}},components:{pullUp:v},onLoad:function(){this.loadExecution()},computed:p({},(0,a.mapState)(["userInfo"])),methods:p({},(0,a.mapMutations)(["login","setToken"]),{getSellerList:function(){var e=h(r.default.mark(function e(){var t,n,a;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=this,e.next=3,this.$http.GET("API/GetSellerList");case 3:a=e.sent.data,a.length>0&&(n.SellerName=a[0].SellerName,n.SellerNo=a[0].SellerNo),(t=n.SellerList).push.apply(t,l(a));case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),toggleTab:function(){this.$refs.picker.show()},onConfirm:function(e){var t=this;t.SellerName=e.SellerName,t.SellerNo=e.SellerNo},inputChange:function(e){var t=e.currentTarget.dataset.key;this[t]=e.detail.value},toRegist:function(){this.$api.msg("去注册")},toRevPass:function(){this.$api.msg("去修改密码")},toLogin:function(){var t=h(r.default.mark(function t(){var n,a,u,l,s,c,f;return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(n=this.SellerNo,a=this.SellerName,u=this.UserPhone,l=this.PassWord,s={PassWord:l,UserPhone:u,SellerNo:n,SellerName:a,OpenId:""},(0,i.graceRules)(s,o.default.loginRule)){t.next=4;break}return t.abrupt("return",!1);case 4:return(0,i.graceShowLoading)("登陆中···"),t.next=7,this.$http.POST("API/PostEn",{Content:this.PassWord});case 7:return s.PassWord=t.sent.details,t.next=10,this.$http.POST("API/SetLogin",s);case 10:c=t.sent,(0,i.graceHideLoading)(),f=p({},c.data.userInfo),f.isRecRebate=c.data.isRecRebate,f.IsOnlyGrand=c.data.IsOnlyGrand,f.IsOrder=c.data.IsOrder,f.IsPay=c.data.IsPay,this.login(f),this.setToken(c.details),e.switchTab({url:"/pages/index/index"});case 20:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),loadExecution:function(){try{var t=e.getStorageSync("launchFlag");t?this.token?(console.log(this.userInfo," at pages\\login\\login.vue:146"),e.switchTab({url:"/pages/index/index"})):this.getSellerList():e.reLaunch({url:"/pages/index/guide"})}catch(n){e.reLaunch({url:"/pages/index/guide"})}}})};t.default=b}).call(this,n("6e42")["default"])},ceb8:function(e,t,n){"use strict";n.r(t);var r=n("6865"),a=n("56e5");for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);n("5fbf");var i=n("2877"),u=Object(i["a"])(a["default"],r["a"],r["b"],!1,null,null,null);t["default"]=u.exports}},[["6df4","common/runtime","common/vendor"]]]);